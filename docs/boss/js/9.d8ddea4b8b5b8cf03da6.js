(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{1166:function(t,e,n){"use strict";n.r(e),n.d(e,"default",(function(){return w}));var r,o=n(74),a=n.n(o),c=n(50),i=n.n(c),u=n(51),s=n.n(u),l=n(52),f=n.n(l),d=n(53),p=n.n(d),g=n(30),h=n.n(g),y=n(0),m=n(163),v=n(1141),b=n(643);function O(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function R(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?O(Object(n),!0).forEach((function(e){a()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):O(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var w=Object(b.a)()(r=function(t){f()(n,t);var e=function(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=h()(t);if(e){var o=h()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return p()(this,n)}}(n);function n(t){var r;return i()(this,n),(r=e.call(this,t)).chart=null,r.getData=function(){r.props.actions.get(m.a.v1PremiumIndex,{},{showLoading:!1,mode:"cors"}).then((function(t){var e=Array.isArray(t)&&t.map((function(t){return R(R({},t),{},{symbol:t.symbol.split("USDT")[0]})}));r.renderAntLineChart(e||[])}))},r.renderAntLineChart=function(t){if(Array.isArray(t)&&0!=t.length){var e=t.filter((function(t){return Math.abs(parseFloat(t.lastFundingRate))>.001})).map((function(t){return R(R({},t),{},{lastFundingRate:100*t.lastFundingRate})})).sort((function(t,e){return t.lastFundingRate-e.lastFundingRate}));if(r.chart)r.chart.changeData(e);else{var n=800;e.length>10&&(n=100*e.length),r.chart||(r.chart=new v.a({container:"container",width:n,height:500,limitInPlot:!1,localRefresh:!1,padding:[20,20,20,20]})),r.chart.clear(),r.chart.data(e),r.chart.scale("lastFundingRate",{alias:"费率",nice:!0}),r.chart.interval().position("symbol*lastFundingRate").color("lastFundingRate",(function(t){return Math.abs(t)>=.3?"#ff4d4f":t<0?"#1890ff":"#6dc609"})),r.chart.interaction("element-active"),e.forEach((function(t){var e=-30,n=-12;t.lastFundingRate<0&&(e=12,n=30),r.chart.annotation().text({position:[t.symbol,t.lastFundingRate],content:t.symbol,style:{textAlign:"center"},offsetY:e}).text({position:[t.symbol,t.lastFundingRate],content:t.lastFundingRate.toFixed(2)+"%",style:{textAlign:"center"},offsetY:n})})),r.chart.render()}}},r.getBookTicker=function(){r.props.actions.get(m.a.bookTicker,{},{showLoading:!1,mode:"cors"}).then((function(t){console.log(t)}))},r.state={rateData:[],selectedData:[],selectedUsdt:"",selectedMap:{},forceOrders:[],openInterest:{},openInterestHist:{},longShortAccountRatio:{},longShortPositionRatio:{},longShortUserRatio:{},longShortTakerRatio:{}},r}return s()(n,[{key:"componentDidMount",value:function(){var t=this;this.getBookTicker(),this.getData(),setInterval((function(){t.getData()}),6e4)}},{key:"render",value:function(){return y.createElement("div",{className:"rate"},y.createElement("div",null,y.createElement("h3",null,"汇率"),y.createElement("div",{style:{overflowX:"auto",width:"100%"}},y.createElement("div",{id:"container"}))))}}]),n}(y.PureComponent))||r},524:function(t,e,n){"use strict";n.r(e),n.d(e,"initScreen",(function(){return c})),n.d(e,"updateScreen",(function(){return i})),n.d(e,"leaveScreen",(function(){return u})),n.d(e,"changeScreenQuery",(function(){return s})),n.d(e,"changeScreenActionQuery",(function(){return l})),n.d(e,"changeScreenSaveStatus",(function(){return f})),n.d(e,"updateScreenCustomProps",(function(){return d})),n.d(e,"receiveScreenData",(function(){return p})),n.d(e,"getScreenData",(function(){return g}));var r=n(130),o=n(61),a=null;function c(t){return{type:o.a.INIT,payload:t}}function i(t){return{type:o.a.UPDATE,payload:t}}function u(t){return window.clearTimeout(a),{type:o.a.LEAVE,meta:{name:t}}}function s(t){return{type:o.a.CHANGE_QUERY,payload:t}}function l(t){return{type:o.a.CHANGE_ACTION_QUERY,payload:t}}function f(t){var e=t.fetchUrl,n=t.query;return function(t){return t(r.a.get(e,n)).then((function(e){return e.success&&t(g()),e}))}}function d(t){return{type:o.a.UPDATE_CUSTOM_PROPS,payload:t}}function p(t){return{type:o.a.RECEIVE_DATA,payload:t,meta:{updateAt:Date.now()}}}function g(t){return function(e,n){var c=n().screen,i=n().app.get("rateInterval"),u=c.getIn(["isFetchInfinite"]),s=c.getIn(["formUrl"]),l=c.getIn(["ajaxMode"]),f=c.getIn(["fetchUrl"])||s,d=c.getIn(["fetchIntervalTime"])||i,h=c.getIn(["actionQuery"]),y={mode:l},m=f,v=c.getIn(["query"])||c.clear();window.clearTimeout(a),e({type:o.a.REQUEST_FETCH_DATA}),v&&v.toJS&&(v=(v=v.merge(h)).toJS()),t&&(t.mode&&(y.mode=t.mode),t.url&&(m=t.url),t.query&&(v=t.query),v.pageNo&&(v.page=v.pageNo));var b=(t||{}).method,O=void 0===b?"get":b;return m?e(r.a[O](m,v,y)).then((function(t){return e(p(t)),u&&d>0&&(a=window.setTimeout((function(){e(g())}),d)),t})):new Promise((function(t){t("Fetch url is need")}))}}},643:function(t,e,n){"use strict";n.d(e,"a",(function(){return d}));var r={};n.r(r),n.d(r,"getSymbol",(function(){return s})),n(208);var o=n(124),a=n(524),c=n(125),i=n(69),u=n(219);function s(t){return function(e){var n=(t||{}).url,r=void 0===n?"realtime":n;return e(o.get(r)).then((function(t){return t&&e({type:u.a.GETSYMBOL,payload:t}),t}))}}function l(t){return{$$app:t.app,$$screen:t.screen,$$boss:t.boss}}function f(t){return{actions:Object(i.b)(Object.assign(o,a,r),t)}}function d(t,e){var n=t||l,r=e||f;return function(t){return Object(c.b)(n,r)(t)}}}}]);